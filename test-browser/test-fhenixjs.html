<!DOCTYPE html>
<html>
<head>
  <title></title>
  <script id="fhenixjs" src="../dist/browser.js" ></script>
</head>
<body>
<button id="fetch">
  Fetch
</button>
<div id="output"></div>
</body>
<script>
  async function doFetch() {
    const resp = await fhenixjs.FhenixClient.Create({});

    let x = resp.encrypt_uint8(3);

    return (`encrypted u8: ${JSON.stringify(x)}`)
  }

  function setOutput(text) {
    document.getElementById("output").innerText = text;
  }

  document.getElementById("fetch").onclick = (evt) => {
    evt.target.style.display = "none";

    doFetch()
      .then(res => setOutput(`result: ${res}`))
      .catch(err => setOutput(`error: ${err}`))
  }
</script>
</html>
